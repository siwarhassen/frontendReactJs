{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _createForOfIteratorHelper from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _slicedToArray from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\chaki\\\\OneDrive\\\\Desktop\\\\aymenouerghui\\\\frontendReactJs\\\\src\\\\user\\\\components\\\\screens\\\\pages\\\\PageFDetailsScreen.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Header from '../../Header';\nimport { Card, Button, Accordion, ListGroup } from 'react-bootstrap';\nimport HeaderWithoutLeftPanel from '../../HeaderWithoutLeftPanel';\nimport LeftPanelPage from '../../LeftPanelPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar PageDetailsScreen = function PageDetailsScreen(_ref) {\n  _s();\n\n  var history = _ref.history,\n      match = _ref.match;\n\n  var _useState = useState(Object),\n      _useState2 = _slicedToArray(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      number = _useState4[0],\n      setNumber = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      users = _useState6[0],\n      setUsers = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      followers_page = _useState8[0],\n      setFollowers_page = _useState8[1];\n\n  var _useState9 = useState('Join'),\n      _useState10 = _slicedToArray(_useState9, 2),\n      etat = _useState10[0],\n      setEtat = _useState10[1];\n\n  var _useState11 = useState(Object),\n      _useState12 = _slicedToArray(_useState11, 2),\n      user = _useState12[0],\n      setUser = _useState12[1];\n\n  useEffect(function () {\n    if (!localStorage.getItem(\"authToken\")) {\n      history.push(\"/login\");\n    }\n\n    var config = {\n      headers: {\n        \"Content-Type\": \"appliation/json\",\n        Authorization: \"Bearer \".concat(localStorage.getItem(\"authToken\"))\n      }\n    };\n    var id = match.params.id;\n    axios.get(\"https://aaweni.herokuapp.com/followpage/getAll\", config).then(function (response) {\n      setFollowers_page(response.data);\n      console.log(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n\n    var _iterator = _createForOfIteratorHelper(followers_page),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var i = _step.value;\n\n        if (i.PageId === id) {\n          setEtat('Unjoin');\n        } else {\n          setEtat('Join');\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    axios.get(\"https://aaweni.herokuapp.com/page/details/\".concat(id), config).then(function (response) {\n      setPage(response.data);\n      console.log(page);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    /** connected user details */\n\n    axios.get(\"https://aaweni.herokuapp.com/api/auth/details_user\", config).then(function (response) {\n      setUser(response.data.data);\n      console.log(user);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(\"https://aaweni.herokuapp.com/followpage/numbers/\".concat(id), config).then(function (response) {\n      setNumber(response.data);\n      console.log(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(\"https://aaweni.herokuapp.com/followpage/get/\".concat(id), config).then(function (response) {\n      setUsers(response.data);\n      console.log(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, [history, etat, page]);\n\n  var inviHandler = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var id, headers, _iterator2, _step2, i;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              id = match.params.id;\n              headers = {\n                'Content-Type': 'application/json',\n                Authorization: \"Bearer \".concat(localStorage.getItem(\"authToken\"))\n              };\n\n              if (etat == 'Join') {\n                axios.post(\"https://aaweni.herokuapp.com/followpage/add/\".concat(id), {}, {\n                  headers: headers\n                }).then(function (response) {\n                  console.log(response.data.data);\n                }).catch(function (error) {\n                  console.log(error);\n                });\n                /* axios.post(`/notif/add/${page.UserId}`,{body:`${user.username} have joined the page ${page.name} `,title:\"new invitation\"}, {\r\n                   headers: headers\r\n                 })\r\n                 .then((response) => {\r\n                  console.log(response.data.data);\r\n                  \r\n                 })\r\n                 .catch((error) => {\r\n                   console.log(error)\r\n                 })*/\n              } else if (etat == 'Unjoin') {\n                setEtat('Join');\n                axios.get(\"https://aaweni.herokuapp.com/followpage/getAll\", {\n                  headers: headers\n                }).then(function (response) {\n                  setFollowers_page(response.data);\n                  console.log(response.data);\n                }).catch(function (error) {\n                  console.log(error);\n                });\n                _iterator2 = _createForOfIteratorHelper(followers_page);\n\n                try {\n                  for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                    i = _step2.value;\n\n                    if (i.PageId === id) {\n                      axios.delete(\"https://aaweni.herokuapp.com/followpage/delete/\".concat(i._id), {\n                        headers: headers\n                      }).then(function (response) {}).catch(function (error) {\n                        console.log(error);\n                      });\n                    }\n                  }\n                  /*  axios.post(`/notif/add/${page.UserId}`,{body:`${user.username} have unjoined the page ${page.name} `,title:\"new invitation\"}, {\r\n                        headers: headers\r\n                      })\r\n                      .then((response) => {\r\n                       console.log(response.data.data);\r\n                       \r\n                      })\r\n                      .catch((error) => {\r\n                        console.log(error)\r\n                      })*/\n\n                } catch (err) {\n                  _iterator2.e(err);\n                } finally {\n                  _iterator2.f();\n                }\n              }\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function inviHandler() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderWithoutLeftPanel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 10\n    }, _this), /*#__PURE__*/_jsxDEV(LeftPanelPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"body\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"main_content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"mcontainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"profile is_group bg-white rounded-2xl -mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"profiles_banner\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"assets/uploads/\".concat(page.coverPicture),\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"profiles_content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"profile_avatar\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"profile_avatar_holder\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"assets/uploads/\".concat(page.profilePicture),\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 33\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"icon_change_photo\",\n                    hidden: true,\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                      name: \"camera\",\n                      class: \"text-xl\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 68\n                    }, _this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"profile_info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: [\" \", page.name, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\" Public page \\xB7  \", number, \" members\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"flex items-center space-x-4\",\n                  children: [users.map(function (val, key) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"flex items-center -space-x-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: val.profilePicture,\n                          alt: \"\",\n                          class: \"w-10 h-10 rounded-full border-2 border-white\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 191,\n                          columnNumber: 33\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 190,\n                        columnNumber: 29\n                      }, _this)\n                    }, key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 33\n                    }, _this);\n                  }), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: inviHandler,\n                    class: \"flex items-center justify-center h-9 px-5 rounded-md bg-blue-600 text-white  space-x-1.5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                      name: \"thumbs-up\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 33\n                    }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\" \", etat, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 33\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 25\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(\"nav\", {\n                class: \"cd-secondary-nav border-t -mb-0.5 lg:pl-2\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#0\",\n                      children: \" Home\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 33\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/pagedetails/\".concat(page._id),\n                      children: \"About\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 34\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    class: \"active\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/pagefollowersdetails/\".concat(page._id),\n                      children: \"Followers\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 48\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 13\n            }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 21\n            }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 21\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: users.map(function (val, key) {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    style: {\n                      width: '18rem',\n                      marginLeft: '10px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                      variant: \"top\",\n                      style: {\n                        width: '290px',\n                        height: '200px'\n                      },\n                      src: val.profilePicture\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 21\n                    }, _this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                      children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                        children: val.username\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 223,\n                        columnNumber: 25\n                      }, _this), /*#__PURE__*/_jsxDEV(Card.Text, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 25\n                      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                        to: \"/userdetails/\".concat(val._id),\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"primary\",\n                          children: \"View Profile\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 226,\n                          columnNumber: 62\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 226,\n                        columnNumber: 25\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 21\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 21\n                  }, _this)\n                }, key, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 33\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 21\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 5\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(PageDetailsScreen, \"R8W94mT48BmC4uCDWoY+8SUsySA=\");\n\n_c = PageDetailsScreen;\nexport default PageDetailsScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"PageDetailsScreen\");","map":{"version":3,"sources":["C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/src/user/components/screens/pages/PageFDetailsScreen.js"],"names":["React","useState","useEffect","Link","axios","Header","Card","Button","Accordion","ListGroup","HeaderWithoutLeftPanel","LeftPanelPage","PageDetailsScreen","history","match","Object","page","setPage","number","setNumber","users","setUsers","followers_page","setFollowers_page","etat","setEtat","user","setUser","localStorage","getItem","push","config","headers","Authorization","id","params","get","then","response","data","console","log","catch","error","i","PageId","inviHandler","post","delete","_id","coverPicture","profilePicture","name","map","val","key","width","marginLeft","height","username"],"mappings":"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","sourcesContent":["import React ,{useState , useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Header from '../../Header';\r\nimport { Card,Button,Accordion,ListGroup } from 'react-bootstrap';\r\nimport HeaderWithoutLeftPanel from '../../HeaderWithoutLeftPanel';\r\nimport LeftPanelPage from '../../LeftPanelPage';\r\nconst PageDetailsScreen = ({history,match}) =>{\r\n    const [page, setPage]= useState(Object);\r\n    const [number, setNumber]= useState(0);\r\n    const [users, setUsers]= useState([]);\r\n    const [followers_page,setFollowers_page] = useState([]);\r\n    const [etat, setEtat]= useState('Join');\r\n    const [user, setUser]= useState(Object);\r\n\r\n    useEffect(() => {\r\n        if(!localStorage.getItem(\"authToken\")){\r\n            history.push(\"/login\")\r\n        }\r\n           \r\n                const config = {\r\n                    headers: {\r\n                        \"Content-Type\":\"appliation/json\",\r\n                        Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n                    }\r\n                }\r\n\r\n                const id = match.params.id;\r\n\r\n                \r\n                    axios.get(`https://aaweni.herokuapp.com/followpage/getAll`, config)\r\n                .then((response) => {\r\n                    setFollowers_page(response.data);\r\n                console.log(response.data)\r\n                })\r\n                .catch((error) => {\r\n                console.log(error)\r\n                })\r\n        \r\n                for (let i of followers_page){\r\n                    if(i.PageId === id){\r\n                        setEtat('Unjoin')\r\n                    }else{\r\n                        setEtat('Join')\r\n                    }\r\n                }\r\n                \r\n\r\n                axios.get(`https://aaweni.herokuapp.com/page/details/${id}`, config)\r\n                  .then((response) => {\r\n                   setPage(response.data);\r\n                   console.log(page)\r\n                  })\r\n                  .catch((error) => {\r\n                    console.log(error)\r\n                  })\r\n\r\n                  /** connected user details */\r\n\r\n                axios.get(`https://aaweni.herokuapp.com/api/auth/details_user`, config)\r\n                .then((response) => {\r\n                    setUser(response.data.data);\r\n                 console.log(user)\r\n                })\r\n                .catch((error) => {\r\n                  console.log(error)\r\n                })\r\n\r\n                  axios.get(`https://aaweni.herokuapp.com/followpage/numbers/${id}`, config)\r\n                .then((response) => {\r\n                    setNumber(response.data);\r\n                console.log(response.data)\r\n                })\r\n                .catch((error) => {\r\n                console.log(error)\r\n                })\r\n\r\n                axios.get(`https://aaweni.herokuapp.com/followpage/get/${id}`, config)\r\n                .then((response) => {\r\n                    setUsers(response.data);\r\n                console.log(response.data)\r\n                })\r\n                .catch((error) => {\r\n                console.log(error)\r\n                })\r\n    \r\n                \r\n            }\r\n           \r\n    ,[history,etat,page]);\r\n\r\n    const inviHandler = async () => {\r\n        const id = match.params.id;\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n          }\r\n          if (etat=='Join'){\r\n            axios.post(`https://aaweni.herokuapp.com/followpage/add/${id}`,{},{\r\n                headers: headers\r\n              })\r\n              .then((response) => {\r\n               console.log(response.data.data);\r\n               \r\n              })\r\n              .catch((error) => {\r\n                console.log(error)\r\n              })\r\n\r\n             /* axios.post(`/notif/add/${page.UserId}`,{body:`${user.username} have joined the page ${page.name} `,title:\"new invitation\"}, {\r\n                headers: headers\r\n              })\r\n              .then((response) => {\r\n               console.log(response.data.data);\r\n               \r\n              })\r\n              .catch((error) => {\r\n                console.log(error)\r\n              })*/\r\n    \r\n          }else if(etat=='Unjoin'){\r\n            setEtat('Join')\r\n            axios.get(`https://aaweni.herokuapp.com/followpage/getAll`, {\r\n                headers: headers\r\n              })\r\n            .then((response) => {\r\n                setFollowers_page(response.data);\r\n            console.log(response.data)\r\n            })\r\n            .catch((error) => {\r\n            console.log(error)\r\n            })\r\n    \r\n            for (let i of followers_page){\r\n                if(i.PageId === id){\r\n                   axios.delete(`https://aaweni.herokuapp.com/followpage/delete/${i._id}`, {\r\n                    headers: headers\r\n                  })\r\n                  .then((response) => {\r\n                  })\r\n                  .catch((error) => {\r\n                    console.log(error)\r\n                  })\r\n                }\r\n            }\r\n\r\n          /*  axios.post(`/notif/add/${page.UserId}`,{body:`${user.username} have unjoined the page ${page.name} `,title:\"new invitation\"}, {\r\n                headers: headers\r\n              })\r\n              .then((response) => {\r\n               console.log(response.data.data);\r\n               \r\n              })\r\n              .catch((error) => {\r\n                console.log(error)\r\n              })*/\r\n          }\r\n         \r\n\r\n        }\r\n\r\n    return (\r\n        <>\r\n         <HeaderWithoutLeftPanel/>\r\n        <LeftPanelPage/>\r\n    <body>\r\n    <div id=\"wrapper\">\r\n    <div class=\"main_content\">\r\n            <div class=\"mcontainer\">\r\n            <div class=\"profile is_group bg-white rounded-2xl -mt-4\">\r\n\r\n                    <div class=\"profiles_banner\">\r\n                        <img src={`assets/uploads/${page.coverPicture}`} alt=\"\"/>\r\n                    </div>\r\n                    <div class=\"profiles_content\">\r\n                        <div class=\"profile_avatar\">\r\n                            <div class=\"profile_avatar_holder\"> \r\n                                <img src={`assets/uploads/${page.profilePicture}`} alt=\"\"/>\r\n                            </div>\r\n                            <div class=\"icon_change_photo\" hidden> <ion-icon name=\"camera\" class=\"text-xl\"></ion-icon> </div>\r\n                        </div>\r\n                        <div class=\"profile_info\">\r\n                            <h1> {page.name} </h1>\r\n                            <p> Public page Â·  {number} members</p>\r\n                        </div>\r\n                        <div class=\"flex items-center space-x-4\">\r\n                        { users.map((val,key) => {\r\n                                    return(\r\n                                <div key={key}>\r\n                            <div class=\"flex items-center -space-x-4\">\r\n                                <img src={val.profilePicture} alt=\"\" class=\"w-10 h-10 rounded-full border-2 border-white\"/>\r\n                                \r\n                            </div>\r\n                            </div>\r\n                                    )})}\r\n                            <button onClick={inviHandler} class=\"flex items-center justify-center h-9 px-5 rounded-md bg-blue-600 text-white  space-x-1.5\">\r\n                                <ion-icon name=\"thumbs-up\"></ion-icon>\r\n                                <span> {etat} </span>\r\n                            </button>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <nav class=\"cd-secondary-nav border-t -mb-0.5 lg:pl-2\">\r\n                        <ul>\r\n                            <li><a href=\"#0\"> Home</a></li>\r\n                            <li ><Link to={`/pagedetails/${page._id}`} >About</Link></li>\r\n                            <li class=\"active\"><Link to={`/pagefollowersdetails/${page._id}`}>Followers</Link></li>\r\n                            \r\n                        </ul>\r\n                    </nav>\r\n                </div>\r\n                    <br></br>\r\n              \r\n                    <br></br>\r\n                    <div className=\"row\" >\r\n                    { users.map((val,key) => {\r\n                                    return(\r\n                                <div key={key}>\r\n                    <Card style={{ width: '18rem',marginLeft:'10px' }}>\r\n                    <Card.Img variant=\"top\" style={{width:'290px',height:'200px'}} src={val.profilePicture} />\r\n                    <Card.Body>\r\n                        <Card.Title>{val.username}</Card.Title>\r\n                        <Card.Text>\r\n                        </Card.Text>\r\n                        <Link to={`/userdetails/${val._id}`}><Button variant=\"primary\">View Profile</Button></Link>\r\n                    </Card.Body>\r\n                    </Card>\r\n                    </div>\r\n                                    )})}\r\n                                    </div>\r\n\r\n                    \r\n                    \r\n            </div>\r\n    \r\n           \r\n\r\n    </div>\r\n    </div>\r\n    </body>\r\n    </>\r\n    )}\r\n\r\nexport default PageDetailsScreen;\r\n"]},"metadata":{},"sourceType":"module"}