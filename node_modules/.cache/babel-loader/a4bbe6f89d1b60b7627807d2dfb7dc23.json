{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siwar\\\\Desktop\\\\front\\\\src\\\\user\\\\components\\\\screens\\\\pages\\\\PageFDetailsScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Header from '../../Header';\nimport { Card, Button, Accordion, ListGroup } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PageDetailsScreen = ({\n  history,\n  match\n}) => {\n  _s();\n\n  const [page, setPage] = useState(Object);\n  const [number, setNumber] = useState(0);\n  const [users, setUsers] = useState([]);\n  const [followers_page, setFollowers_page] = useState([]);\n  const [etat, setEtat] = useState('Join');\n  const [user, setUser] = useState(Object);\n  useEffect(() => {\n    if (!localStorage.getItem(\"authToken\")) {\n      history.push(\"/login\");\n    }\n\n    const config = {\n      headers: {\n        \"Content-Type\": \"appliation/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\n      }\n    };\n    const id = match.params.id;\n    axios.get(`/followpage/getAll`, config).then(response => {\n      setFollowers_page(response.data);\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n\n    for (let i of followers_page) {\n      if (i.PageId === id) {\n        setEtat('Unjoin');\n      } else {\n        setEtat('Join');\n      }\n    }\n\n    axios.get(`/page/details/${id}`, config).then(response => {\n      setPage(response.data);\n      console.log(page);\n    }).catch(error => {\n      console.log(error);\n    });\n    /** connected user details */\n\n    axios.get(`/api/auth/details_user`, config).then(response => {\n      setUser(response.data.data);\n      console.log(user);\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get(`/followpage/numbers/${id}`, config).then(response => {\n      setNumber(response.data);\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get(`/followpage/get/${id}`, config).then(response => {\n      setUsers(response.data);\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [history, etat, page]);\n\n  const inviHandler = async () => {\n    const id = match.params.id;\n    const headers = {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\n    };\n\n    if (etat == 'Join') {\n      axios.post(`/followpage/add/${id}`, {}, {\n        headers: headers\n      }).then(response => {\n        console.log(response.data.data);\n      }).catch(error => {\n        console.log(error);\n      });\n      /* axios.post(`/notif/add/${page.UserId}`,{body:`${user.username} have joined the page ${page.name} `,title:\"new invitation\"}, {\r\n         headers: headers\r\n       })\r\n       .then((response) => {\r\n        console.log(response.data.data);\r\n        \r\n       })\r\n       .catch((error) => {\r\n         console.log(error)\r\n       })*/\n    } else if (etat == 'Unjoin') {\n      setEtat('Join');\n      axios.get(`/followpage/getAll`, {\n        headers: headers\n      }).then(response => {\n        setFollowers_page(response.data);\n        console.log(response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n\n      for (let i of followers_page) {\n        if (i.PageId === id) {\n          axios.delete(`/followpage/delete/${i._id}`, {\n            headers: headers\n          }).then(response => {}).catch(error => {\n            console.log(error);\n          });\n        }\n      }\n      /*  axios.post(`/notif/add/${page.UserId}`,{body:`${user.username} have unjoined the page ${page.name} `,title:\"new invitation\"}, {\r\n            headers: headers\r\n          })\r\n          .then((response) => {\r\n           console.log(response.data.data);\r\n           \r\n          })\r\n          .catch((error) => {\r\n            console.log(error)\r\n          })*/\n\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"body\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"main_content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"mcontainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"profile is_group bg-white rounded-2xl -mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"profiles_banner\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `assets/uploads/${page.coverPicture}`,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"profiles_content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"profile_avatar\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"profile_avatar_holder\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: `assets/uploads/${page.profilePicture}`,\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"icon_change_photo\",\n                    hidden: true,\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                      name: \"camera\",\n                      class: \"text-xl\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 68\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"profile_info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: [\" \", page.name, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\" Public page \\xB7  \", number, \" members\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"flex items-center space-x-4\",\n                  children: [users.map((val, key) => {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"flex items-center -space-x-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: val.profilePicture,\n                          alt: \"\",\n                          class: \"w-10 h-10 rounded-full border-2 border-white\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 188,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 187,\n                        columnNumber: 29\n                      }, this)\n                    }, key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 33\n                    }, this);\n                  }), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: inviHandler,\n                    class: \"flex items-center justify-center h-9 px-5 rounded-md bg-blue-600 text-white  space-x-1.5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                      name: \"thumbs-up\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\" \", etat, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n                class: \"cd-secondary-nav border-t -mb-0.5 lg:pl-2\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#0\",\n                      children: \" Home\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/pagedetails/${page._id}`,\n                      children: \"About\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 34\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    class: \"active\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/pagefollowersdetails/${page._id}`,\n                      children: \"Followers\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 48\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: users.map((val, key) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    style: {\n                      width: '18rem',\n                      marginLeft: '10px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                      variant: \"top\",\n                      style: {\n                        width: '290px',\n                        height: '200px'\n                      },\n                      src: val.profilePicture\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                      children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                        children: val.username\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 220,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 221,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/userdetails/${val._id}`,\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"primary\",\n                          children: \"View Profile\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 223,\n                          columnNumber: 62\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 223,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 21\n                  }, this)\n                }, key, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 33\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(PageDetailsScreen, \"R8W94mT48BmC4uCDWoY+8SUsySA=\");\n\n_c = PageDetailsScreen;\nexport default PageDetailsScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"PageDetailsScreen\");","map":{"version":3,"sources":["C:/Users/siwar/Desktop/front/src/user/components/screens/pages/PageFDetailsScreen.js"],"names":["React","useState","useEffect","Link","axios","Header","Card","Button","Accordion","ListGroup","PageDetailsScreen","history","match","page","setPage","Object","number","setNumber","users","setUsers","followers_page","setFollowers_page","etat","setEtat","user","setUser","localStorage","getItem","push","config","headers","Authorization","id","params","get","then","response","data","console","log","catch","error","i","PageId","inviHandler","post","delete","_id","coverPicture","profilePicture","name","map","val","key","width","marginLeft","height","username"],"mappings":"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","sourcesContent":["import React ,{useState , useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Header from '../../Header';\r\nimport { Card,Button,Accordion,ListGroup } from 'react-bootstrap';\r\nconst PageDetailsScreen = ({history,match}) =>{\r\n    const [page, setPage]= useState(Object);\r\n    const [number, setNumber]= useState(0);\r\n    const [users, setUsers]= useState([]);\r\n    const [followers_page,setFollowers_page] = useState([]);\r\n    const [etat, setEtat]= useState('Join');\r\n    const [user, setUser]= useState(Object);\r\n\r\n    useEffect(() => {\r\n        if(!localStorage.getItem(\"authToken\")){\r\n            history.push(\"/login\")\r\n        }\r\n           \r\n                const config = {\r\n                    headers: {\r\n                        \"Content-Type\":\"appliation/json\",\r\n                        Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n                    }\r\n                }\r\n\r\n                const id = match.params.id;\r\n\r\n                \r\n                    axios.get(`/followpage/getAll`, config)\r\n                .then((response) => {\r\n                    setFollowers_page(response.data);\r\n                console.log(response.data)\r\n                })\r\n                .catch((error) => {\r\n                console.log(error)\r\n                })\r\n        \r\n                for (let i of followers_page){\r\n                    if(i.PageId === id){\r\n                        setEtat('Unjoin')\r\n                    }else{\r\n                        setEtat('Join')\r\n                    }\r\n                }\r\n                \r\n\r\n                axios.get(`/page/details/${id}`, config)\r\n                  .then((response) => {\r\n                   setPage(response.data);\r\n                   console.log(page)\r\n                  })\r\n                  .catch((error) => {\r\n                    console.log(error)\r\n                  })\r\n\r\n                  /** connected user details */\r\n\r\n                axios.get(`/api/auth/details_user`, config)\r\n                .then((response) => {\r\n                    setUser(response.data.data);\r\n                 console.log(user)\r\n                })\r\n                .catch((error) => {\r\n                  console.log(error)\r\n                })\r\n\r\n                  axios.get(`/followpage/numbers/${id}`, config)\r\n                .then((response) => {\r\n                    setNumber(response.data);\r\n                console.log(response.data)\r\n                })\r\n                .catch((error) => {\r\n                console.log(error)\r\n                })\r\n\r\n                axios.get(`/followpage/get/${id}`, config)\r\n                .then((response) => {\r\n                    setUsers(response.data);\r\n                console.log(response.data)\r\n                })\r\n                .catch((error) => {\r\n                console.log(error)\r\n                })\r\n    \r\n                \r\n            }\r\n           \r\n    ,[history,etat,page]);\r\n\r\n    const inviHandler = async () => {\r\n        const id = match.params.id;\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n          }\r\n          if (etat=='Join'){\r\n            axios.post(`/followpage/add/${id}`,{},{\r\n                headers: headers\r\n              })\r\n              .then((response) => {\r\n               console.log(response.data.data);\r\n               \r\n              })\r\n              .catch((error) => {\r\n                console.log(error)\r\n              })\r\n\r\n             /* axios.post(`/notif/add/${page.UserId}`,{body:`${user.username} have joined the page ${page.name} `,title:\"new invitation\"}, {\r\n                headers: headers\r\n              })\r\n              .then((response) => {\r\n               console.log(response.data.data);\r\n               \r\n              })\r\n              .catch((error) => {\r\n                console.log(error)\r\n              })*/\r\n    \r\n          }else if(etat=='Unjoin'){\r\n            setEtat('Join')\r\n            axios.get(`/followpage/getAll`, {\r\n                headers: headers\r\n              })\r\n            .then((response) => {\r\n                setFollowers_page(response.data);\r\n            console.log(response.data)\r\n            })\r\n            .catch((error) => {\r\n            console.log(error)\r\n            })\r\n    \r\n            for (let i of followers_page){\r\n                if(i.PageId === id){\r\n                   axios.delete(`/followpage/delete/${i._id}`, {\r\n                    headers: headers\r\n                  })\r\n                  .then((response) => {\r\n                  })\r\n                  .catch((error) => {\r\n                    console.log(error)\r\n                  })\r\n                }\r\n            }\r\n\r\n          /*  axios.post(`/notif/add/${page.UserId}`,{body:`${user.username} have unjoined the page ${page.name} `,title:\"new invitation\"}, {\r\n                headers: headers\r\n              })\r\n              .then((response) => {\r\n               console.log(response.data.data);\r\n               \r\n              })\r\n              .catch((error) => {\r\n                console.log(error)\r\n              })*/\r\n          }\r\n         \r\n\r\n        }\r\n\r\n    return (\r\n        <>\r\n        <Header/>\r\n    <body>\r\n    <div id=\"wrapper\">\r\n    <div class=\"main_content\">\r\n            <div class=\"mcontainer\">\r\n            <div class=\"profile is_group bg-white rounded-2xl -mt-4\">\r\n\r\n                    <div class=\"profiles_banner\">\r\n                        <img src={`assets/uploads/${page.coverPicture}`} alt=\"\"/>\r\n                    </div>\r\n                    <div class=\"profiles_content\">\r\n                        <div class=\"profile_avatar\">\r\n                            <div class=\"profile_avatar_holder\"> \r\n                                <img src={`assets/uploads/${page.profilePicture}`} alt=\"\"/>\r\n                            </div>\r\n                            <div class=\"icon_change_photo\" hidden> <ion-icon name=\"camera\" class=\"text-xl\"></ion-icon> </div>\r\n                        </div>\r\n                        <div class=\"profile_info\">\r\n                            <h1> {page.name} </h1>\r\n                            <p> Public page Â·  {number} members</p>\r\n                        </div>\r\n                        <div class=\"flex items-center space-x-4\">\r\n                        { users.map((val,key) => {\r\n                                    return(\r\n                                <div key={key}>\r\n                            <div class=\"flex items-center -space-x-4\">\r\n                                <img src={val.profilePicture} alt=\"\" class=\"w-10 h-10 rounded-full border-2 border-white\"/>\r\n                                \r\n                            </div>\r\n                            </div>\r\n                                    )})}\r\n                            <button onClick={inviHandler} class=\"flex items-center justify-center h-9 px-5 rounded-md bg-blue-600 text-white  space-x-1.5\">\r\n                                <ion-icon name=\"thumbs-up\"></ion-icon>\r\n                                <span> {etat} </span>\r\n                            </button>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <nav class=\"cd-secondary-nav border-t -mb-0.5 lg:pl-2\">\r\n                        <ul>\r\n                            <li><a href=\"#0\"> Home</a></li>\r\n                            <li ><Link to={`/pagedetails/${page._id}`} >About</Link></li>\r\n                            <li class=\"active\"><Link to={`/pagefollowersdetails/${page._id}`}>Followers</Link></li>\r\n                            \r\n                        </ul>\r\n                    </nav>\r\n                </div>\r\n                    <br></br>\r\n              \r\n                    <br></br>\r\n                    <div className=\"row\" >\r\n                    { users.map((val,key) => {\r\n                                    return(\r\n                                <div key={key}>\r\n                    <Card style={{ width: '18rem',marginLeft:'10px' }}>\r\n                    <Card.Img variant=\"top\" style={{width:'290px',height:'200px'}} src={val.profilePicture} />\r\n                    <Card.Body>\r\n                        <Card.Title>{val.username}</Card.Title>\r\n                        <Card.Text>\r\n                        </Card.Text>\r\n                        <Link to={`/userdetails/${val._id}`}><Button variant=\"primary\">View Profile</Button></Link>\r\n                    </Card.Body>\r\n                    </Card>\r\n                    </div>\r\n                                    )})}\r\n                                    </div>\r\n\r\n                    \r\n                    \r\n            </div>\r\n    \r\n           \r\n\r\n    </div>\r\n    </div>\r\n    </body>\r\n    </>\r\n    )}\r\n\r\nexport default PageDetailsScreen;"]},"metadata":{},"sourceType":"module"}